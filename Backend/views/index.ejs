<!-- Hero Section -->
<section class="hero">
  <div class="container">
    <div class="row">
      <div class="col-lg-8 mx-auto">
        <h1>Hi, I'm Ahmad Waheb Arifi</h1>
        <p class="lead">
          Full-Stack Developer | Creating Amazing Web Experiences
        </p>
        <div class="d-flex flex-wrap justify-content-center">
          <a href="/contact" class="btn-custom">
            <i class="fas fa-envelope"></i> Get In Touch
          </a>
          <a href="/projects" class="btn-custom-outline">
            <i class="fas fa-folder-open"></i> View My Work
          </a>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- About Section -->
<section class="py-5">
  <div class="container">
    <div class="row align-items-center">
      <div class="col-lg-6 animate-on-scroll">
        <h2 class="display-4 fw-bold mb-4">About Me</h2>
        <p class="lead">
          I'm Ahmad Waheb Arifi, a passionate full-stack developer with
          expertise in modern web technologies. I love creating efficient,
          scalable, and user-friendly applications that solve real-world
          problems.
        </p>
        <p>
          With experience in both frontend and backend development, I bring
          ideas to life through clean code and innovative solutions. I
          specialize in JavaScript, React, Node.js, and database technologies.
          I'm always eager to learn new technologies and take on exciting
          challenges that push the boundaries of web development.
        </p>
        <a href="/about" class="btn btn-primary btn-lg rounded-pill">
          <i class="fas fa-user"></i> Learn More About Me
        </a>
      </div>
      <div class="col-lg-6 animate-on-scroll">
        <div class="text-center">
          <img
            src="/ahmadpic.jpg"
            class="img-fluid rounded-circle shadow-lg mb-4"
            alt="Ahmad Waheb Arifi"
            style="max-width: 250px; border: 5px solid rgba(14, 165, 233, 0.2)"
          />
          <div class="skill-item">
            <i class="fas fa-code skill-icon text-primary"></i>
            <h4>Clean Code</h4>
            <p>Writing maintainable and efficient code</p>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- Skills Preview -->
<% if (Object.keys(groupedSkills).length > 0) { %>
<section class="py-5 bg-light">
  <div class="container">
    <div class="text-center mb-5 animate-on-scroll">
      <h2 class="display-4 fw-bold">My Skills</h2>
      <p class="lead">Technologies and tools I work with</p>
    </div>

    <div class="row">
      <% const skillCategories = Object.keys(groupedSkills).slice(0, 3); %> <%
      skillCategories.forEach(function(category) { %>
      <div class="col-lg-4 mb-4 animate-on-scroll">
        <div class="card h-100">
          <div class="card-body">
            <h5 class="card-title text-capitalize">
              <i
                class="fas fa-<%= category === 'frontend' ? 'laptop-code' : category === 'backend' ? 'server' : 'tools' %> me-2"
              ></i>
              <%= category.replace('-', ' ') %>
            </h5>
            <div class="skills-list">
              <% groupedSkills[category].slice(0, 4).forEach(function(skill) {
              %>
              <div class="mb-3">
                <div class="d-flex justify-content-between">
                  <span><%= skill.name %></span>
                  <span><%= skill.proficiency %>%</span>
                </div>
                <div class="progress">
                  <div
                    class="progress-bar"
                    data-width="<%= skill.proficiency %>"
                  ></div>
                </div>
              </div>
              <% }); %>
            </div>
          </div>
        </div>
      </div>
      <% }); %>
    </div>

    <div class="text-center mt-4">
      <a href="/skills" class="btn btn-outline-primary btn-lg rounded-pill">
        <i class="fas fa-chart-bar"></i> View All Skills
      </a>
    </div>
  </div>
</section>
<% } %>

<!-- Featured Projects -->
<% if (featuredProjects.length > 0) { %>
<section class="py-5">
  <div class="container">
    <div class="text-center mb-5 animate-on-scroll">
      <h2 class="display-4 fw-bold">Featured Projects</h2>
      <p class="lead">Some of my best work</p>
    </div>

    <div class="row">
      <% featuredProjects.forEach(function(project) { %>
      <div class="col-lg-4 col-md-6 mb-4 animate-on-scroll">
        <div class="card h-100">
          <% if (project.images && project.images.length > 0) { %>
          <img
            src="<%= project.images[0].url %>"
            class="card-img-top"
            alt="<%= project.images[0].alt || project.title %>"
          />
          <% } else { %>
          <div
            class="card-img-top bg-light d-flex align-items-center justify-content-center"
            style="height: 200px"
          >
            <i class="fas fa-code fa-3x text-muted"></i>
          </div>
          <% } %>

          <div class="card-body d-flex flex-column">
            <h5 class="card-title"><%= project.title %></h5>
            <p class="card-text flex-grow-1"><%= project.description %></p>

            <div class="mb-3">
              <% const techs = Array.isArray(project.technologies) ?
              project.technologies : JSON.parse(project.technologies || '[]');
              %> <% techs.slice(0, 3).forEach(function(tech) { %>
              <span class="badge bg-secondary me-1"><%= tech %></span>
              <% }); %> <% if (techs.length > 3) { %>
              <span class="badge bg-light text-dark"
                >+<%= techs.length - 3 %> more</span
              >
              <% } %>
            </div>

            <div class="d-flex gap-2 mt-auto">
              <a
                href="/projects/<%= project.id %>"
                class="btn btn-primary flex-fill"
              >
                <i class="fas fa-eye"></i> View Details
              </a>
              <% if (project.liveUrl) { %>
              <a
                href="<%= project.liveUrl %>"
                target="_blank"
                class="btn btn-outline-success"
              >
                <i class="fas fa-external-link-alt"></i>
              </a>
              <% } %> <% if (project.githubUrl) { %>
              <a
                href="<%= project.githubUrl %>"
                target="_blank"
                class="btn btn-outline-dark"
              >
                <i class="fab fa-github"></i>
              </a>
              <% } %>
            </div>
          </div>
        </div>
      </div>
      <% }); %>
    </div>

    <div class="text-center mt-4">
      <a href="/projects" class="btn btn-primary btn-lg rounded-pill">
        <i class="fas fa-folder-open"></i> View All Projects
      </a>
    </div>
  </div>
</section>
<% } %>

<!-- Featured Blog Posts -->
<% if (featuredBlogs.length > 0) { %>
<section class="py-5 bg-light">
  <div class="container">
    <div class="text-center mb-5 animate-on-scroll">
      <h2 class="display-4 fw-bold">Latest from Blog</h2>
      <p class="lead">Insights, tutorials, and thoughts on development</p>
    </div>

    <div class="row">
      <% featuredBlogs.forEach(function(blog) { %>
      <div class="col-lg-4 mb-4 animate-on-scroll">
        <div class="card h-100">
          <% if (blog.featuredImage && blog.featuredImage.url) { %>
          <img
            src="<%= blog.featuredImage.url %>"
            class="card-img-top"
            alt="<%= blog.featuredImage.alt || blog.title %>"
          />
          <% } %>

          <div class="card-body d-flex flex-column">
            <div class="mb-2">
              <span class="badge bg-primary"
                ><%= blog.category.replace('-', ' ') %></span
              >
              <small class="text-muted ms-2">
                <i class="fas fa-calendar"></i> <%=
                moment(blog.publishedAt).format('MMM DD, YYYY') %>
              </small>
            </div>

            <h5 class="card-title"><%= blog.title %></h5>
            <p class="card-text flex-grow-1"><%= blog.excerpt %></p>

            <div
              class="d-flex justify-content-between align-items-center mt-auto"
            >
              <small class="text-muted">
                <i class="fas fa-clock"></i> <%= blog.readTime %> min read
              </small>
              <a href="/blog/<%= blog.slug %>" class="btn btn-outline-primary">
                Read More <i class="fas fa-arrow-right"></i>
              </a>
            </div>
          </div>
        </div>
      </div>
      <% }); %>
    </div>

    <div class="text-center mt-4">
      <a href="/blog" class="btn btn-primary btn-lg rounded-pill">
        <i class="fas fa-blog"></i> View All Posts
      </a>
    </div>
  </div>
</section>
<% } %>

<!-- Call to Action -->
<section class="py-5 bg-dark-gradient">
  <div class="container">
    <div class="row">
      <div class="col-lg-8 mx-auto text-center text-white animate-on-scroll">
        <h2 class="display-4 fw-bold mb-4">Let's Work Together</h2>
        <p class="lead mb-4">
          Have a project in mind? I'd love to hear about it and discuss how we
          can bring your ideas to life.
        </p>
        <div class="d-flex flex-wrap justify-content-center gap-3">
          <a href="/contact" class="btn btn-light btn-lg rounded-pill">
            <i class="fas fa-envelope"></i> Start a Conversation
          </a>
          <a href="/resume" class="btn btn-outline-light btn-lg rounded-pill">
            <i class="fas fa-download"></i> Download Resume
          </a>
        </div>
      </div>
    </div>
  </div>
</section>

<script>
  // Set progress bar widths after page load
  document.addEventListener("DOMContentLoaded", function () {
    const progressBars = document.querySelectorAll(".progress-bar");
    progressBars.forEach(function (bar) {
      const width = bar.getAttribute("data-width");
      if (width) {
        bar.style.width = width + "%";
      }
    });
  });
</script>
